!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.holdup=n()}}(function(){return function n(e,t,r){function o(i,f){if(!t[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw Error("Cannot find module '"+i+"'")}var s=t[i]={exports:{}};e[i][0].call(s.exports,function(n){var t=e[i][1][n];return o(t?t:n)},s,s.exports,n,e,t,r)}return t[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(n,e){var t=n("./lib/deferred").Deferred,r=n("./lib/holdup"),o=n("./lib/error");r.Deferred=t,r.on=o.events.on,r.off=o.events.off,r.once=o.events.once,r.resetErrors=o.reset,e.exports=r},{"./lib/deferred":2,"./lib/error":3,"./lib/holdup":4}],2:[function(n,e,t){(function(e){"use strict";function r(n){this.then=u(n.then,n),this.error=u(n.error,n),this.thrown=u(n.thrown,n),this.inspect=u(n.inspect,n),this._deferred=n}function o(){this._fulfilledBuffer=[],this._rejectedBuffer=[],this._thrownBuffer=[],this._state=O.PENDING,this._value=null,this._scheduled=!1,this._log=!1}function u(n,e){return function(){return n.apply(e,arguments)}}function i(n){return n._state===O.PENDING}function f(n){return n._state===O.FULFILLED}function c(n){return n._state===O.REJECTED}function s(n){return n._state===O.THROWN}function l(n,e,t,r,o){n._fulfilledBuffer.push(function(n){w(e,n,O.FULFILLED,t,!1)}),n._rejectedBuffer.push(function(n){w(e,n,O.REJECTED,r,!1)}),n._thrownBuffer.push(function(n){w(e,n,O.THROWN,r,!1)}),n._thrownBuffer.push(function(n){w(e,n,O.THROWN,o,!0)})}function a(n,e,t){n._state=e,n._value=t}function d(n){n._scheduled||(n._scheduled=!0,e.nextTick(function(){n._scheduled=!1,p(n)}))}function p(n){var e=h(n);D(e,n._value),v(n)}function h(n){return f(n)?n._fulfilledBuffer:s(n)?n._thrownBuffer:n._rejectedBuffer}function v(n){n._fulfilledBuffer=[],n._rejectedBuffer=[],n._thrownBuffer=[]}function m(n,e){return F.isWrapped(n)?(F.postpone(n),n):F.wrap(n,e)}function w(n,t,r,o,u){var i=y(n,r);"function"==typeof o?g(n,o,t,u):(F.isWrapped(t)&&F.postpone(t),e.nextTick(function(){i.call(n,t)}))}function y(n,e){return e===O.FULFILLED?n.fulfill:e===O.THROWN?n.throwError:n.reject}function g(n,e,t,r){var o,u=F.isWrapped(t),i=u?F.unwrap(t):t;try{o=e(i),u&&F.handle(t,r)}catch(f){return void n.throwError(f)}_(n,o)}function _(n,e){var t=null;if(!E(n,e))return"function"==typeof e||"object"==typeof e?(t=j(e,n),void("function"==typeof t?(e instanceof r?b(e._deferred,t,n):e instanceof o&&b(e,t,n),k(e,t,n)):n.fulfill(e))):void n.fulfill(e)}function E(n,e){return e===n?(n.throwError(new TypeError("Promise cannot return itself.")),!0):e instanceof r&&e._deferred===n?(n.throwError(new TypeError("Promise cannot return itself")),!0):!1}function j(n,e){var t=null;try{t=L(n)}catch(r){e.throwError(r)}return t}function b(n,e,t){var r=T(n,e,t);try{e.call(n,r.resolve,r.reject,r.throwError)}catch(o){r.throwError(o)}}function k(n,e,t){var r=T(n,e,t);try{e.call(n,r.resolve,r.reject)}catch(o){r.throwError(o)}}function T(n,e,t){var r,o,u,i=!1,f=function(n){i||(i=r=!0,_(t,n))},c=function(n){i||(i=o=!0,t.reject(n))},s=function(n){i||(i=u=!0,t.throwError(n))};return{resolve:f,reject:c,throwError:s}}function L(n){return n?n.then:null}function D(n,e){var t,r;for(t=0;r=n[t];t++)r(e)}var F=n("./error"),O=n("./state"),R=n("./inspection"),P=function(){};"undefined"!=typeof console&&"function"==typeof console.log&&(P=function(){console.log.apply(console,arguments)}),o.prototype.then=function(n,e,t){var u=new o;return l(this,u,n,e,t),i(this)||d(this),new r(u)},o.prototype.thrown=function(n,e){return e||(e=n,n=null),e?this.then(null,null,function(t){return null===n?e(t):t instanceof n?e(t):void 0}):this.then()},o.prototype.error=function(n,e){return e||(e=n,n=null),e?this.then(null,function(t){return null===n?e(t):t instanceof n?e(t):void 0}):this.then()},o.prototype.inspect=function(){return new R(this)},o.prototype.fulfill=function(n){i(this)&&(a(this,O.FULFILLED,n),d(this))},o.prototype.reject=function(n){i(this)&&(this._log&&P(n),d(this),a(this,O.REJECTED,m(n,!1)))},o.prototype.throwError=function(n){i(this)&&(this._log&&P(n),d(this),a(this,O.THROWN,m(n,!0)))},o.prototype.promise=function(){return new r(this)},o.prototype.fulfilled=function(){return f(this)},o.prototype.rejected=function(){return c(this)||s(this)},o.prototype.pending=function(){return i(this)},t.Deferred=o}).call(this,n("/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./error":3,"./inspection":5,"./state":6,"/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":7}],3:[function(n,e,t){(function(n){"use strict";function e(n,e){this.error=n,this.thrown=e,this.id=i++,this.postponed=!1}function r(){var e=a;l||(l=!0,n.nextTick(function(){e===a&&(l=!1,o())}))}function o(){var n,e;for(n in s)s.hasOwnProperty(n)&&(e=s[n],e.postponed?(e.postponed=!1,r()):(t.handle(e,!0),u(e)))}function u(n){var e;e=n.thrown?f.concat(c):f;for(var r=0,o=e.length;o>r;r++)e[r](t.unwrap(n))}var i=0,f=[],c=[];t.events={on:function(n,e){"error"===n?f.push(e):"thrown"===n&&c.push(e)},off:function(n,e){var t;"error"===n?t=f:"thrown"===n&&(t=c);for(var r=0,o=t.length;o>r;r++)if(t[r]===e)return t.splice(r,1),!0;return!1},once:function(n,e){var r=function(){e.apply(void 0,arguments),t.events.off(n,r)};t.events.on(n,r)}};var s={};t.wrap=function(n,t){var o=new e(n,t);return s[o.id]=o,r(),o},t.unwrap=function(n){return n.error},t.isWrapped=function(n){return n instanceof e},t.handle=function(n,e){(!n.thrown||e)&&s.hasOwnProperty(n.id)&&delete s[n.id]},t.postpone=function(n){n.postponed=!0},t.reset=function(){s={},f=[],c=[],l=!1,a++};var l=!1,a=0}).call(this,n("/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":7}],4:[function(n,e,t){"use strict";function r(n,e){function t(n){return function(e){c[n]=e,a.decrement()}}function r(n){return function(){c[n]=void 0,a.decrement()}}var o,u,f,c=Array(n.length),l=new p,a=i(n.length,s(l.fulfill,l),s(l.reject,l)),d=e?r:t,h=e?t:r;for(u=0,f=n.length;f>u;u++)o=n[u],o.then(d(u),h(u));return l.then(function(){return c})}function o(n,e,t){var r=[],o=[],i=function(n){r.push(n)},s=function(n){o.push(n)},l=e?f(i):c(i),a=t?f(s):c(s);return{fulfilled:r,rejected:o,promise:u(n,l,a)}}function u(n,e,t){var r,o,u,f=new p;if(0===n.length)return f.fulfill([]),f;for(u=i(n.length,s(f.fulfill,f),s(f.reject,f)),r=0;o=n[r];r++)o.then(e(u,o),t(u,o));return f}function i(n,e,t){var r=n,o=!1,u={decrement:function(){o||(r--,0===r&&e())},error:function(){o||(o=!0,t.apply(arguments))}};return 0===r&&e(),u}function f(n){return function(e,t){return function(){n&&n(t),e.decrement()}}}function c(n){return function(e,t){return function(){n&&n(t),e.error()}}}function s(n,e){return function(){n.apply(e,arguments)}}function l(n){return a(d(n))}function a(n){var e,t,r=[];for(e=0;t=n[e];e++)t instanceof Array?r=r.concat(a(t)):r.push(t);return r}function d(n,e,t){return Array.prototype.slice.call(n,e||0,t||n.length)}var p=n("./deferred").Deferred;t.make=function(n){var e=new p;try{n(s(e.fulfill,e),s(e.reject,e))}catch(t){e.throwError(t)}return e.promise()},t.fulfill=function(n){return t.make(function(e){e(n)})},t.fcall=function(n){return t.make(function(e){e(n())})},t.reject=function(n){return t.make(function(e,t){t(n)})},t.ferr=function(n){return t.make(function(e,t){t(n())})},t.all=function(){var n=l(arguments),e=o(n,!0,!1);return t.make(function(t,o){e.promise.then(function(){r(n,!1).then(function(n){t(n)})},function(){e.rejected[0].error(function(n){o(n)})})})},t.noPromisesOrdered=function(){var n=o(l(arguments),!1,!0);return t.make(function(e,t){n.promise.then(function(){e(n.rejected)},function(){t(n.fulfilled[0])})})},t.none=function(){var n=l(arguments);return t.noPromisesOrdered(n).then(function(){return r(n,!0)},function(n){return n.then(function(n){return t.reject(n)})})},t.resolvedPromisesOrdered=function(){var n=o(l(arguments),!0,!0);return t.make(function(e){n.promise.then(function(){e({fulfilled:n.fulfilled,rejected:n.rejected})})})},t.resolved=t.settled=t.allSettled=function(){var n=l(arguments);return t.resolvedPromisesOrdered(n).then(function(){for(var e=[],t=0,r=n.length;r>t;t++)e.push(n[t].inspect());return e})},t.firstFulfilled=t.ff=function(){var n=t.noPromisesOrdered(l(arguments));return t.make(function(e,t){n.then(t,e)})},t.firstValue=t.race=function(){var n=l(arguments);return t.ff(n).then(function(n){return n.inspect().value()},function(){return r(n,!0).then(function(n){return t.reject(n)})})},t.firstError=function(){var n=l(arguments),e=o(n,!0,!1);return t.make(function(t,o){e.promise.then(function(){r(n,!1).then(function(n){o(n)})},function(){t(e.rejected[0].inspect().error())})})},t.lastFulfilled=t.lf=function(){var n=t.resolvedPromisesOrdered(l(arguments));return t.make(function(e,t){n.then(function(n){var r=n.fulfilled,o=n.rejected;0===r.length?t(o):e(r[r.length-1])})})},t.lastValue=function(){var n=l(arguments);return t.lastFulfilled(n).then(function(n){return n.inspect().value()},function(){return r(n,!1).then(function(n){return t.reject(n)})})},t.lastRejected=t.lr=function(){var n=t.resolvedPromisesOrdered(l(arguments));return t.make(function(e,t){n.then(function(n){var r=n.fulfilled,o=n.rejected;0===o.length?t(r):e(o[o.length-1])})})},t.lastError=function(){var n=l(arguments);return t.lastRejected(n).then(function(n){return n.inspect().error()},function(){return r(n,!0).then(function(n){return t.reject(n)})})},t.invert=function(n){return t.make(function(e,t){n.then(t,e)})},t.spreadValues=t.spread=function(n,e){n.then(function(n){e.apply(void 0,n)})},t.spreadErrors=function(n,e){n.then(void 0,function(n){e.apply(void 0,n)})},t.data=function(){var n=d(arguments),e=l(n.slice(0,n.length-1)),t=r(e,!1),o=n[n.length-1];return t.then(function(n){o.apply(null,n)}),t},t.errors=function(){var n=d(arguments),e=l(n.slice(0,n.length-1)),t=r(e,!0),o=n[n.length-1];return t.then(function(n){o.apply(null,n)}),t},t.wait=function(n){return t.make(function(e){setTimeout(function(){e(n)},n)})},t.delay=function(n,e){return t.make(function(t,r){n.then(function(){var n=d(arguments,0);setTimeout(function(){t.apply(null,n)},e)},function(){var n=d(arguments,0);setTimeout(function(){r.apply(null,n)},e)})})},t.timeout=function(n,e){return t.make(function(t,r){setTimeout(function(){r("Error: "+e+"ms timeout exceeded.")},e),n.then(t,r)})},t.napply=function(n,e,r){var o=r.slice(0,r.length);return t.make(function(t,r){o.push(function(n,e){n?r(n):t(e)}),e.apply(n,o)})},t.nfapply=function(n,e){return t.napply(null,n,e)},t.ncall=t.wrapFor=function(n,e){var r=d(arguments,2);return t.napply(n,e,r)},t.nfcall=t.wrap=function(n){var e=d(arguments,1);return t.napply(null,n,e)},t.npost=function(n,e,r){return t.napply(n,n[e],r)},t.ninvoke=t.nsend=function(n,e){var r=d(arguments,2);return t.napply(n,n[e],r)},t.nbind=function(n,e){var r=d(arguments,2);return function(){var o=d(arguments);return t.napply(e,n,r.concat(o))}},t.nfbind=t.denodeify=function(n){var e=[n,null].concat(d(arguments,1));return t.nbind.apply(t,e)},t.nodeify=function(n,e){return n.then(function(n){e(null,n)},function(n){e(n)}),n}},{"./deferred":2}],5:[function(n,e){"use strict";function t(n){this._d=n}function r(n,e){return n._state===e}var o=n("./state"),u=n("./error");t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError;return this._d._value},t.prototype.error=function(){if(!this.isRejected())throw new TypeError;var n=this._d._value;return u.isWrapped(n)?u.unwrap(n):n},t.prototype.isThrown=function(){return r(this._d,o.THROWN)},t.prototype.isRejected=function(){return r(this._d,o.REJECTED)||this.isThrown()},t.prototype.isFulfilled=function(){return r(this._d,o.FULFILLED)},e.exports=t},{"./error":3,"./state":6}],6:[function(n,e,t){"use strict";t.REJECTED=0,t.FULFILLED=1,t.PENDING=2,t.THROWN=3},{}],7:[function(n,e){var t=e.exports={};t.nextTick=function(){var n="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(n)return function(n){return window.setImmediate(n)};if(e){var t=[];return window.addEventListener("message",function(n){var e=n.source;if((e===window||null===e)&&"process-tick"===n.data&&(n.stopPropagation(),t.length>0)){var r=t.shift();r()}},!0),function(n){t.push(n),window.postMessage("process-tick","*")}}return function(n){setTimeout(n,0)}}(),t.title="browser",t.browser=!0,t.env={},t.argv=[],t.binding=function(){throw Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(){throw Error("process.chdir is not supported")}},{}]},{},[1])(1)});