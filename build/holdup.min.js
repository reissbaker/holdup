!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.holdup=n()}}(function(){return function n(t,e,r){function o(i,f){if(!e[i]){if(!t[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw Error("Cannot find module '"+i+"'")}var s=e[i]={exports:{}};t[i][0].call(s.exports,function(n){var e=t[i][1][n];return o(e?e:n)},s,s.exports,n,t,e,r)}return e[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(n,t){var e=n("./lib/deferred").Deferred,r=n("./lib/holdup"),o=n("./lib/error");r.Deferred=e,r.on=o.events.on,r.off=o.events.off,r.once=o.events.once,r.resetErrors=o.reset,t.exports=r},{"./lib/deferred":2,"./lib/error":3,"./lib/holdup":4}],2:[function(n,t,e){(function(t){"use strict";function r(n){this.then=u(n.then,n),this.error=u(n.error,n),this.thrown=u(n.thrown,n),this.inspect=u(n.inspect,n),this._deferred=n}function o(){this._fulfilledBuffer=[],this._rejectedBuffer=[],this._thrownBuffer=[],this._state=R.PENDING,this._value=null,this._scheduled=!1,this._log=!1}function u(n,t){return function(){return n.apply(t,arguments)}}function i(n){return n._state===R.PENDING}function f(n){return n._state===R.FULFILLED}function c(n){return n._state===R.REJECTED}function s(n){return n._state===R.THROWN}function l(n,t,e,r,o){n._fulfilledBuffer.push(function(n){w(t,n,R.FULFILLED,e,!1)}),n._rejectedBuffer.push(function(n){w(t,n,R.REJECTED,r,!1)}),n._thrownBuffer.push(function(n){w(t,n,R.THROWN,r,!1)}),n._thrownBuffer.push(function(n){w(t,n,R.THROWN,o,!0)})}function a(n,t,e){n._state=t,n._value=e}function p(n){n._scheduled||(n._scheduled=!0,t.nextTick(function(){n._scheduled=!1,d(n)}))}function d(n){var t=h(n);D(t,n._value),v(n)}function h(n){return f(n)?n._fulfilledBuffer:s(n)?n._thrownBuffer:n._rejectedBuffer}function v(n){n._fulfilledBuffer=[],n._rejectedBuffer=[],n._thrownBuffer=[]}function m(n,t){return F.isWrapped(n)?(F.postpone(n),n):F.wrap(n,t)}function w(n,e,r,o,u){var i=y(n,r);"function"==typeof o?g(n,o,e,u):(F.isWrapped(e)&&F.postpone(e),t.nextTick(function(){i.call(n,e)}))}function y(n,t){return t===R.FULFILLED?n.fulfill:t===R.THROWN?n.throwError:n.reject}function g(n,t,e,r){var o,u=F.isWrapped(e),i=u?F.unwrap(e):e;try{o=t(i),u&&F.handle(e,r)}catch(f){return void n.throwError(f)}_(n,o)}function _(n,t){var e=null;if(!E(n,t))return"function"==typeof t||"object"==typeof t?(e=b(t,n),void("function"==typeof e?(t instanceof r?j(t._deferred,e,n):t instanceof o&&j(t,e,n),k(t,e,n)):n.fulfill(t))):void n.fulfill(t)}function E(n,t){return t===n?(n.throwError(new TypeError("Promise cannot return itself.")),!0):t instanceof r&&t._deferred===n?(n.throwError(new TypeError("Promise cannot return itself")),!0):!1}function b(n,t){var e=null;try{e=L(n)}catch(r){t.throwError(r)}return e}function j(n,t,e){var r=T(n,t,e);try{t.call(n,r.resolve,r.reject,r.throwError)}catch(o){r.throwError(o)}}function k(n,t,e){var r=T(n,t,e);try{t.call(n,r.resolve,r.reject)}catch(o){r.throwError(o)}}function T(n,t,e){var r,o,u,i=!1,f=function(n){i||(i=r=!0,_(e,n))},c=function(n){i||(i=o=!0,e.reject(n))},s=function(n){i||(i=u=!0,e.throwError(n))};return{resolve:f,reject:c,throwError:s}}function L(n){return n?n.then:null}function D(n,t){var e,r;for(e=0;r=n[e];e++)r(t)}var F=n("./error"),R=n("./state"),x=n("./inspection"),B=function(){};"undefined"!=typeof console&&"function"==typeof console.log&&(B=function(){console.log.apply(console,arguments)}),o.prototype.then=function(n,t,e){var u=new o;return l(this,u,n,t,e),i(this)||p(this),new r(u)},o.prototype.thrown=function(n,t){return t||(t=n,n=null),t?this.then(null,null,function(e){return null===n?t(e):e instanceof n?t(e):void 0}):this.then()},o.prototype.error=function(n,t){return t||(t=n,n=null),t?this.then(null,function(e){return null===n?t(e):e instanceof n?t(e):void 0}):this.then()},o.prototype.inspect=function(){return new x(this)},o.prototype.fulfill=function(n){i(this)&&(a(this,R.FULFILLED,n),p(this))},o.prototype.reject=function(n){i(this)&&(this._log&&B(n),p(this),a(this,R.REJECTED,m(n,!1)))},o.prototype.throwError=function(n){i(this)&&(this._log&&B(n),p(this),a(this,R.THROWN,m(n,!0)))},o.prototype.promise=function(){return new r(this)},o.prototype.fulfilled=function(){return f(this)},o.prototype.rejected=function(){return c(this)||s(this)},o.prototype.pending=function(){return i(this)},e.Deferred=o}).call(this,n("/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"./error":3,"./inspection":5,"./state":7,"/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":8}],3:[function(n,t,e){(function(n){"use strict";function t(n,t){this.error=n,this.thrown=t,this.id=i++,this.postponed=!1}function r(){var t=a;l||(l=!0,n.nextTick(function(){t===a&&(l=!1,o())}))}function o(){var n,t;for(n in s)s.hasOwnProperty(n)&&(t=s[n],t.postponed?(t.postponed=!1,r()):(e.handle(t,!0),u(t)))}function u(n){var t;t=n.thrown?f.concat(c):f;for(var r=0,o=t.length;o>r;r++)t[r](e.unwrap(n))}var i=0,f=[],c=[];e.events={on:function(n,t){"error"===n?f.push(t):"thrown"===n&&c.push(t)},off:function(n,t){var e;"error"===n?e=f:"thrown"===n&&(e=c);for(var r=0,o=e.length;o>r;r++)if(e[r]===t)return e.splice(r,1),!0;return!1},once:function(n,t){var r=function(){t.apply(void 0,arguments),e.events.off(n,r)};e.events.on(n,r)}};var s={};e.wrap=function(n,e){var o=new t(n,e);return s[o.id]=o,r(),o},e.unwrap=function(n){return n.error},e.isWrapped=function(n){return n instanceof t},e.handle=function(n,t){(!n.thrown||t)&&s.hasOwnProperty(n.id)&&delete s[n.id]},e.postpone=function(n){n.postponed=!0},e.reset=function(){s={},f=[],c=[],l=!1,a++};var l=!1,a=0}).call(this,n("/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/mattbaker/Hack/holdup/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":8}],4:[function(n,t,e){"use strict";function r(n,t){function e(n){return function(t){c[n]=t,a.decrement()}}function r(n){return function(){c[n]=void 0,a.decrement()}}var o,u,f,c=Array(n.length),l=new d,a=i(n.length,s(l.fulfill,l),s(l.reject,l)),p=t?r:e,h=t?e:r;for(u=0,f=n.length;f>u;u++)o=n[u],o.then(p(u),h(u));return l.then(function(){return c})}function o(n,t,e){var r=[],o=[],i=function(n){r.push(n)},s=function(n){o.push(n)},l=t?f(i):c(i),a=e?f(s):c(s);return{fulfilled:r,rejected:o,promise:u(n,l,a)}}function u(n,t,e){var r,o,u,f=new d;if(0===n.length)return f.fulfill([]),f;for(u=i(n.length,s(f.fulfill,f),s(f.reject,f)),r=0;o=n[r];r++)o.then(t(u,o),e(u,o));return f}function i(n,t,e){var r=n,o=!1,u={decrement:function(){o||(r--,0===r&&t())},error:function(){o||(o=!0,e.apply(arguments))}};return 0===r&&t(),u}function f(n){return function(t,e){return function(){n&&n(e),t.decrement()}}}function c(n){return function(t,e){return function(){n&&n(e),t.error()}}}function s(n,t){return function(){n.apply(t,arguments)}}function l(n){return a(p(n))}function a(n){var t,e,r=[];for(t=0;e=n[t];t++)e instanceof Array?r=r.concat(a(e)):r.push(e);return r}function p(n,t,e){return Array.prototype.slice.call(n,t||0,e||n.length)}var d=n("./deferred").Deferred;e.make=function(n){var t=new d;try{n(s(t.fulfill,t),s(t.reject,t))}catch(e){t.throwError(e)}return t.promise()},e.fulfill=function(n){return e.make(function(t){t(n)})},e.fcall=function(n){return e.make(function(t){t(n())})},e.reject=function(n){return e.make(function(t,e){e(n)})},e.ferr=function(n){return e.make(function(t,e){e(n())})},e.all=function(){var n=l(arguments),t=o(n,!0,!1);return e.make(function(e,o){t.promise.then(function(){r(n,!1).then(function(n){e(n)})},function(){t.rejected[0].error(function(n){o(n)})})})},e.none=function(){var n=l(arguments),t=o(n,!1,!0);return e.make(function(e,o){t.promise.then(function(){r(n,!0).then(function(n){e(n)})},function(){t.fulfilled[0].then(function(n){o(n)})})})},e.resolvedPromisesOrdered=function(){var n=o(l(arguments),!0,!0);return e.make(function(t){n.promise.then(function(){t({fulfilled:n.fulfilled,rejected:n.rejected})})})},e.resolved=e.settled=e.allSettled=function(){var n=l(arguments);return e.resolvedPromisesOrdered(n).then(function(){for(var t=[],e=0,r=n.length;r>e;e++)t.push(n[e].inspect());return t})},e.firstValue=e.race=function(){var n=l(arguments);return e.invert(e.none(n))},e.firstError=function(){var n=l(arguments);return e.invert(e.all(n))},e.lastFulfilled=e.lf=function(){var n=e.resolvedPromisesOrdered(l(arguments));return e.make(function(t,e){n.then(function(n){var r=n.fulfilled,o=n.rejected;0===r.length?e(o):t(r[r.length-1])})})},e.lastValue=function(){var n=l(arguments);return e.lastFulfilled(n).then(function(n){return n.inspect().value()},function(){return r(n,!1).then(function(n){return e.reject(n)})})},e.lastRejected=e.lr=function(){var n=e.resolvedPromisesOrdered(l(arguments));return e.make(function(t,e){n.then(function(n){var r=n.fulfilled,o=n.rejected;0===o.length?e(r):t(o[o.length-1])})})},e.lastError=function(){var n=l(arguments);return e.lastRejected(n).then(function(n){return n.inspect().error()},function(){return r(n,!0).then(function(n){return e.reject(n)})})},e.invert=function(n){return e.make(function(t,e){n.then(e,t)})},e.spreadValues=e.spread=function(n,t){n.then(function(n){t.apply(void 0,n)})},e.spreadErrors=function(n,t){n.then(void 0,function(n){t.apply(void 0,n)})},e.data=function(){var n=p(arguments),t=l(n.slice(0,n.length-1)),e=r(t,!1),o=n[n.length-1];return e.then(function(n){o.apply(null,n)}),e},e.errors=function(){var n=p(arguments),t=l(n.slice(0,n.length-1)),e=r(t,!0),o=n[n.length-1];return e.then(function(n){o.apply(null,n)}),e},e.wait=function(n){return e.make(function(t){setTimeout(function(){t(n)},n)})},e.delay=function(n,t){return e.make(function(e,r){n.then(function(){var n=p(arguments,0);setTimeout(function(){e.apply(null,n)},t)},function(){var n=p(arguments,0);setTimeout(function(){r.apply(null,n)},t)})})},e.timeout=function(n,t){return e.make(function(e,r){setTimeout(function(){r("Error: "+t+"ms timeout exceeded.")},t),n.then(e,r)})},e.napply=function(n,t,r){var o=r.slice(0,r.length);return e.make(function(e,r){o.push(function(n,t){n?r(n):e(t)}),t.apply(n,o)})},e.nfapply=function(n,t){return e.napply(null,n,t)},e.ncall=e.wrapFor=function(n,t){var r=p(arguments,2);return e.napply(n,t,r)},e.nfcall=e.wrap=function(n){var t=p(arguments,1);return e.napply(null,n,t)},e.npost=function(n,t,r){return e.napply(n,n[t],r)},e.ninvoke=e.nsend=function(n,t){var r=p(arguments,2);return e.napply(n,n[t],r)},e.nbind=function(n,t){var r=p(arguments,2);return function(){var o=p(arguments);return e.napply(t,n,r.concat(o))}},e.nfbind=e.denodeify=function(n){var t=[n,null].concat(p(arguments,1));return e.nbind.apply(e,t)},e.nodeify=function(n,t){return n.then(function(n){t(null,n)},function(n){t(n)}),n}},{"./deferred":2}],5:[function(n,t){"use strict";function e(n,t){this._s=o(n,t)}var r=n("./state"),o=n("./state-container"),u=n("./error");e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError;return this._s.value()},e.prototype.error=function(){if(!this.isRejected())throw new TypeError;var n=this._s.value();return u.isWrapped(n)?u.unwrap(n):n},e.prototype.isThrown=function(){return this._s.state()===r.THROWN},e.prototype.isRejected=function(){return this._s.state()===r.REJECTED||this.isThrown()},e.prototype.isFulfilled=function(){return this._s.state()===r.FULFILLED},t.exports=e},{"./error":3,"./state":7,"./state-container":6}],6:[function(n,t){"use strict";function e(n){this.d=n}function r(n,t){this.state=n,this.value=t}e.prototype.state=function(){return this.d._state},e.prototype.value=function(){return this.d._value},r.prototype.state=function(){return this.state},r.prototype.value=function(){return this.value},t.exports=function(n,t){return"number"==typeof n?new r(n,t):new e(n)}},{}],7:[function(n,t,e){"use strict";e.REJECTED=0,e.FULFILLED=1,e.PENDING=2,e.THROWN=3},{}],8:[function(n,t){var e=t.exports={};e.nextTick=function(){var n="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(n)return function(n){return window.setImmediate(n)};if(t){var e=[];return window.addEventListener("message",function(n){var t=n.source;if((t===window||null===t)&&"process-tick"===n.data&&(n.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(n){e.push(n),window.postMessage("process-tick","*")}}return function(n){setTimeout(n,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.binding=function(){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw Error("process.chdir is not supported")}},{}]},{},[1])(1)});