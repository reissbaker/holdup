!function(n){if("object"==typeof exports)module.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.holdup=n()}}(function(){return function n(t,e,r){function o(i,f){if(!e[i]){if(!t[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw Error("Cannot find module '"+i+"'")}var l=e[i]={exports:{}};t[i][0].call(l.exports,function(n){var e=t[i][1][n];return o(e?e:n)},l,l.exports,n,t,e,r)}return e[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(n,t){var e=n("./lib/deferred").Deferred,r=n("./lib/holdup"),o=n("./lib/error");r.Deferred=e,r.on=o.events.on,r.off=o.events.off,r.once=o.events.once,r.resetErrors=o.reset,t.exports=r},{"./lib/deferred":2,"./lib/error":3,"./lib/holdup":4}],2:[function(n,t,e){var r=n("__browserify_process");!function(){"use strict";function t(n){this.then=u(n.then,n),this.error=u(n.error,n),this.thrown=u(n.thrown,n),this._deferred=n}function o(){this._fulfilledBuffer=[],this._rejectedBuffer=[],this._thrownBuffer=[],this._state=A,this._value=null,this._scheduled=!1,this._log=!1}function u(n,t){return function(){return n.apply(t,arguments)}}function i(n){return n._state===A}function f(n){return n._state===W}function c(n){return n._state===D}function l(n){return n._state===F}function s(n,t,e,r,o){n._fulfilledBuffer.push(function(n){m(t,n,W,e,!1)}),n._rejectedBuffer.push(function(n){m(t,n,D,r,!1)}),n._thrownBuffer.push(function(n){m(t,n,F,r,!1)}),n._thrownBuffer.push(function(n){m(t,n,F,o,!0)})}function a(n,t,e){n._state=t,n._value=e}function p(n){n._scheduled||(n._scheduled=!0,r.nextTick(function(){n._scheduled=!1,d(n)}))}function d(n){var t=h(n);T(t,n._value),v(n)}function h(n){return f(n)?n._fulfilledBuffer:l(n)?n._thrownBuffer:n._rejectedBuffer}function v(n){n._fulfilledBuffer=[],n._rejectedBuffer=[],n._thrownBuffer=[]}function w(n,t){return P.isWrapped(n)?(P.postpone(n),n):P.wrap(n,t)}function m(n,t,e,o,u){var i=y(n,e);"function"==typeof o?g(n,o,t,u):(P.isWrapped(t)&&P.postpone(t),r.nextTick(function(){i.call(n,t)}))}function y(n,t){return t===W?n.fulfill:t===F?n.throwError:n.reject}function g(n,t,e,r){var o,u=P.isWrapped(e),i=u?P.unwrap(e):e;try{o=t(i),u&&P.handle(e,r)}catch(f){return n.throwError(f),void 0}_(n,o)}function _(n,e){var r=null;return j(n,e),"function"==typeof e||"object"==typeof e?(r=k(e,n),"function"==typeof r?(e instanceof t?b(e._deferred,r,n):e instanceof o&&b(e,r,n),E(e,r,n)):n.fulfill(e),void 0):(n.fulfill(e),void 0)}function j(n,e){return e===n?(n.throwError(new TypeError("Promise cannot return itself.")),!0):e instanceof t&&e._deferred===n?(n.throwError(new TypeError("Promise cannot return itself")),!0):!1}function k(n,t){var e=null;try{e=B(n)}catch(r){t.throwError(r)}return e}function b(n,t,e){var r=x(n,t,e);try{t.call(n,r.resolve,r.reject,r.throwError)}catch(o){r.throwError(o)}}function E(n,t,e){var r=x(n,t,e);try{t.call(n,r.resolve,r.reject)}catch(o){r.throwError(o)}}function x(n,t,e){var r,o,u,i=!1,f=function(n){i||(i=r=!0,_(e,n))},c=function(n){i||(i=o=!0,e.reject(n))},l=function(n){i||(i=u=!0,e.throwError(n))};return{resolve:f,reject:c,throwError:l}}function B(n){return n?n.then:null}function T(n,t){var e,r;for(e=0;r=n[e];e++)r(t)}var P=n("./error"),q=function(){};"undefined"!=typeof console&&"function"==typeof console.log&&(q=function(){console.log.apply(console,arguments)});var D=0,W=1,A=2,F=3;o.prototype.then=function(n,e,r){var u=new o;return s(this,u,n,e,r),i(this)||p(this),new t(u)},o.prototype.thrown=function(n,t){return t||(t=n,n=null),t?this.then(null,null,function(e){return null===n?t(e):e instanceof n?t(e):void 0}):this.then()},o.prototype.error=function(n,t){return t||(t=n,n=null),t?this.then(null,function(e){return null===n?t(e):e instanceof n?t(e):void 0}):this.then()},o.prototype.fulfill=function(n){i(this)&&(a(this,W,n),p(this))},o.prototype.reject=function(n){i(this)&&(this._log&&q(n),p(this),a(this,D,w(n,!1)))},o.prototype.throwError=function(n){i(this)&&(this._log&&q(n),p(this),a(this,F,w(n,!0)))},o.prototype.promise=function(){return new t(this)},o.prototype.fulfilled=function(){return f(this)},o.prototype.rejected=function(){return c(this)||l(this)},o.prototype.pending=function(){return i(this)},e.Deferred=o}()},{"./error":3,__browserify_process:5}],3:[function(n,t,e){var r=n("__browserify_process");!function(){"use strict";function n(n,t){this.error=n,this.thrown=t,this.id=i++,this.postponed=!1}function t(){var n=a;s||(s=!0,r.nextTick(function(){n===a&&(s=!1,o())}))}function o(){var n,r;for(n in l)l.hasOwnProperty(n)&&(r=l[n],r.postponed?(r.postponed=!1,t()):(e.handle(r,!0),u(r)))}function u(n){var t;t=n.thrown?f.concat(c):f;for(var r=0,o=t.length;o>r;r++)t[r](e.unwrap(n))}var i=0,f=[],c=[];e.events={on:function(n,t){"error"===n?f.push(t):"thrown"===n&&c.push(t)},off:function(n,t){var e;"error"===n?e=f:"thrown"===n&&(e=c);for(var r=0,o=e.length;o>r;r++)if(e[r]===t)return e.splice(r,1),!0;return!1},once:function(n,t){var r=function(){t.apply(void 0,arguments),e.events.off(n,r)};e.events.on(n,r)}};var l={};e.wrap=function(e,r){var o=new n(e,r);return l[o.id]=o,t(),o},e.unwrap=function(n){return n.error},e.isWrapped=function(t){return t instanceof n},e.handle=function(n,t){(!n.thrown||t)&&l.hasOwnProperty(n.id)&&delete l[n.id]},e.postpone=function(n){n.postponed=!0},e.reset=function(){l={},f=[],c=[],s=!1,a++};var s=!1,a=0}()},{__browserify_process:5}],4:[function(n,t,e){!function(){"use strict";function t(n,t){function e(n){return function(t){l[n]=t,a.decrement()}}function r(n){return function(){l[n]=void 0,a.decrement()}}var o,i,f,l=Array(n.length),s=new p,a=u(n.length,c(s.fulfill,s),c(s.reject,s)),d=t?r:e,h=t?e:r;for(i=0,f=n.length;f>i;i++)o=n[i],o.then(d(i),h(i));return s.then(function(){return l})}function r(n,t,e){var r=[],u=[],c=function(n){r.push(n)},l=function(n){u.push(n)},s=t?i(c):f(c),a=e?i(l):f(l);return{fulfilled:r,rejected:u,promise:o(n,s,a)}}function o(n,t,e){var r,o,i,f=new p;if(0===n.length)return f.fulfill([]),f;for(i=u(n.length,c(f.fulfill,f),c(f.reject,f)),r=0;o=n[r];r++)o.then(t(i,o),e(i,o));return f}function u(n,t,e){var r=n,o=!1,u={decrement:function(){o||(r--,0===r&&t())},error:function(){o||(o=!0,e.apply(arguments))}};return 0===r&&t(),u}function i(n){return function(t,e){return function(){n&&n(e),t.decrement()}}}function f(n){return function(t,e){return function(){n&&n(e),t.error()}}}function c(n,t){return function(){n.apply(t,arguments)}}function l(n){return s(a(n))}function s(n){var t,e,r=[];for(t=0;e=n[t];t++)e instanceof Array?r=r.concat(s(e)):r.push(e);return r}function a(n,t,e){return Array.prototype.slice.call(n,t||0,e||n.length)}var p=n("./deferred").Deferred;e.make=function(n){var t=new p;try{n(c(t.fulfill,t),c(t.reject,t))}catch(e){t.throwError(e)}return t.promise()},e.fulfill=function(n){return e.make(function(t){t(n)})},e.fcall=function(n){return e.make(function(t){t(n())})},e.reject=function(n){return e.make(function(t,e){e(n)})},e.ferr=function(n){return e.make(function(t,e){e(n())})},e.all=function(){var n=r(l(arguments),!0,!1);return e.make(function(t,e){n.promise.then(function(){t(n.fulfilled)},function(){e(n.rejected[0])})})},e.none=function(){var n=r(l(arguments),!1,!0);return e.make(function(t,e){n.promise.then(function(){t(n.rejected)},function(){e(n.fulfilled[0])})})},e.resolved=e.allSettled=function(){var n=r(l(arguments),!0,!0);return e.make(function(t){n.promise.then(function(){t({fulfilled:n.fulfilled,rejected:n.rejected})})})},e.firstFulfilled=e.ff=function(){var n=e.none(l(arguments));return e.make(function(t,e){n.then(e,t)})},e.firstRejected=e.fr=function(){var n=e.all(l(arguments));return e.make(function(t,e){n.then(e,t)})},e.lastFulfilled=e.lf=function(){var n=e.resolved(l(arguments));return e.make(function(t,e){n.then(function(n){var r=n.fulfilled,o=n.rejected;0===r.length?e(o):t(r[r.length-1])})})},e.lastRejected=e.lr=function(){var n=e.resolved(l(arguments));return e.make(function(t,e){n.then(function(n){var r=n.fulfilled,o=n.rejected;0===o.length?e(r):t(o[o.length-1])})})},e.invert=function(n){return e.make(function(t,e){n.then(e,t)})},e.data=e.spread=function(){var n=a(arguments),e=l(n.slice(0,n.length-1)),r=t(e,!1),o=n[n.length-1];return r.then(function(n){o.apply(null,n)}),r},e.errors=function(){var n=a(arguments),e=l(n.slice(0,n.length-1)),r=t(e,!0),o=n[n.length-1];return r.then(function(n){o.apply(null,n)}),r},e.wait=function(n){return e.make(function(t){setTimeout(function(){t(n)},n)})},e.delay=function(n,t){return e.make(function(e,r){n.then(function(){var n=a(arguments,0);setTimeout(function(){e.apply(null,n)},t)},function(){var n=a(arguments,0);setTimeout(function(){r.apply(null,n)},t)})})},e.timeout=function(n,t){return e.make(function(e,r){setTimeout(function(){r("Error: "+t+"ms timeout exceeded.")},t),n.then(e,r)})},e.napply=function(n,t,r){var o=r.slice(0,r.length);return e.make(function(e,r){o.push(function(n,t){n?r(n):e(t)}),t.apply(n,o)})},e.nfapply=function(n,t){return e.napply(null,n,t)},e.ncall=e.wrapFor=function(n,t){var r=a(arguments,2);return e.napply(n,t,r)},e.nfcall=e.wrap=function(n){var t=a(arguments,1);return e.napply(null,n,t)},e.npost=function(n,t,r){return e.napply(n,n[t],r)},e.ninvoke=e.nsend=function(n,t){var r=a(arguments,2);return e.napply(n,n[t],r)},e.nbind=function(n,t){var r=a(arguments,2);return function(){var o=a(arguments);return e.napply(t,n,r.concat(o))}},e.nfbind=e.denodeify=function(n){var t=[n,null].concat(a(arguments,1));return e.nbind.apply(e,t)},e.nodeify=function(n,t){return n.then(function(n){t(null,n)},function(n){t(n)}),n}}()},{"./deferred":2}],5:[function(n,t){var e=t.exports={};e.nextTick=function(){var n="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(n)return function(n){return window.setImmediate(n)};if(t){var e=[];return window.addEventListener("message",function(n){var t=n.source;if((t===window||null===t)&&"process-tick"===n.data&&(n.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(n){e.push(n),window.postMessage("process-tick","*")}}return function(n){setTimeout(n,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.binding=function(){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw Error("process.chdir is not supported")}},{}]},{},[1])(1)});